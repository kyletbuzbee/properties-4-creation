---
title: 'Login - Properties 4 Creations'
description: 'Login to your Properties 4 Creations account.'
layout: 'base.njk'
---

<main id="main-content">
  <section class="container login-section">
    <h1>Login to Your Account</h1>
    <form id="login-form" class="auth-form">
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" required autocomplete="email">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" required autocomplete="current-password">
      </div>
      <button type="submit" class="btn btn-primary">Login</button>
      <p class="auth-switch">Don't have an account? <a href="/register.html">Register here</a>.</p>
      <div id="login-message" class="message-box error-message" aria-live="polite" style="display: none;"></div>
    </form>
  </section>
</main>

<script type="module">
  import { auth } from '/js/auth.js';

  document.addEventListener('DOMContentLoaded', () => {
    const loginForm = document.getElementById('login-form');
    const loginMessage = document.getElementById('login-message');

    if (loginForm) {
      loginForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        loginMessage.style.display = 'none';
        loginMessage.textContent = '';

        const result = await auth.login(email, password);

        if (result.success) {
          window.location.href = '/profile.html'; // Redirect to profile page on successful login
        } else {
          loginMessage.textContent = result.message;
          loginMessage.style.display = 'block';
        }
      });
    }
  });
</script>
